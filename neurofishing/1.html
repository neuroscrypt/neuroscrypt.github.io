<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ù–µ–π—Ä–æ—Ñ–∏—à–∏–Ω–≥ ‚Äî Canvas Map</title>
  <style>
    body {
      margin: 0;
      background: #0f1318;
      overflow: hidden;
    }
    canvas {
      display: block;
      background: radial-gradient(circle at center, #202b3a, #0f1318);
    }
    #tooltip {
      position: absolute;
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 6px 10px;
      border-radius: 6px;
      pointer-events: none;
      font-family: monospace;
      font-size: 14px;
      display: none;
      z-index: 10;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <div id="tooltip"></div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const tooltip = document.getElementById('tooltip');

    const nodes = [
      { type: 'attack', label: 'üéØ –ù–µ–π—Ä–æ—Ñ–∏—à–∏–Ω–≥', x: 300, y: 200, radius: 70, color: '#ff4d4d', info: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ: —Å–±–æ—Ä –Ω–µ–π—Ä–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–∫—Ä—ã—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º.' },
      { type: 'attack', label: 'üíª –¢–µ—Ö–Ω–æ-–∞—Ç–∞–∫–∞', x: 600, y: 120, radius: 50, color: '#ff8a65', info: '–°–∫—Ä—ã—Ç—ã–π BCI, –ª–æ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.' },
      { type: 'attack', label: 'üåÄ –ü—Å–∏—Ö–æ-–∞—Ç–∞–∫–∞', x: 620, y: 300, radius: 50, color: '#ff8a65', info: '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–±—Ä–æ—Å, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏—è —Ä–µ–∞–∫—Ü–∏–π.' },
      { type: 'defense', label: 'üîê –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –º—ã—Å–ª–∏', x: 300, y: 450, radius: 50, color: '#4caf50', info: '–ú—ã—Å–ª–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ –Ω–∞ –æ–±—Ä–∞–∑—ã-–∫–æ–¥—ã.' },
      { type: 'defense', label: 'üßò –ú–µ—Ç–∞–ø–æ–∑–Ω–∞–Ω–∏–µ', x: 100, y: 300, radius: 50, color: '#81c784', info: '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å —á—É–∂–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.' },
      { type: 'law', label: '‚öñÔ∏è –°—Ç.137 –£–ö –†–§', x: 800, y: 200, radius: 50, color: '#64b5f6', info: '–ù–∞—Ä—É—à–µ–Ω–∏–µ —á–∞—Å—Ç–Ω–æ–π –∂–∏–∑–Ω–∏.' },
    ];

    const links = [
      { from: 0, to: 1 },
      { from: 0, to: 2 },
      { from: 0, to: 3 },
      { from: 0, to: 4 },
      { from: 1, to: 5 },
      { from: 2, to: 5 },
    ];

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // –ª–∏–Ω–∏–∏
      links.forEach(link => {
        const from = nodes[link.from];
        const to = nodes[link.to];
        ctx.beginPath();
        ctx.moveTo(from.x, from.y);
        ctx.lineTo(to.x, to.y);
        ctx.strokeStyle = '#888';
        ctx.lineWidth = 1.5;
        ctx.stroke();
      });
      // —É–∑–ª—ã
      nodes.forEach(node => {
        ctx.beginPath();
        ctx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
        ctx.fillStyle = node.color;
        ctx.fill();
        ctx.font = '14px monospace';
        ctx.fillStyle = '#fff';
        ctx.textAlign = 'center';
        ctx.fillText(node.label, node.x, node.y + 4);
      });
    }

    function detectHover(x, y) {
      let found = null;
      nodes.forEach(node => {
        const dx = x - node.x;
        const dy = y - node.y;
        if (Math.sqrt(dx * dx + dy * dy) < node.radius) {
          found = node;
        }
      });
      return found;
    }

    canvas.addEventListener('mousemove', (e) => {
      const node = detectHover(e.clientX, e.clientY);
      if (node) {
        tooltip.style.left = e.clientX + 15 + 'px';
        tooltip.style.top = e.clientY + 15 + 'px';
        tooltip.style.display = 'block';
        tooltip.textContent = node.info;
        canvas.style.cursor = 'pointer';
      } else {
        tooltip.style.display = 'none';
        canvas.style.cursor = 'default';
      }
    });

    draw();
  </script>
</body>
</html>
